<!DOCTYPE html>
<html>
<head>
<title>Benutzerdaten anlegen</title>
<meta charset="UTF-8"/>
<script src="js/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="js/agility.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="js/themes/base/jquery.ui.all.css">
<script src="js/jquery-ui.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="stylesheets/demos.css">
</head>
<body>
	<div id="contentArea"></div>
	<script id="userEdit" type="text/html">
		<table>
			<tr>
			 <td>Id:</td>
             <td><span data-bind="id" /></tr>
			</tr>
			<tr>
			 <td>Vorname:</td>
             <td><input data-bind="vorname" type="text" name="vorname" /></tr>
			</tr>
			<tr>
			  <td>Nachname:</td>
              <td><input data-bind="nachname" type="text" name="nachname" /></td>
			</tr>
            <tr>
			  <td colspan="2"><input id='save' type="button" value="Speichern"  /></td>
			</tr>
		</table>
	</script>
	<script id="userAnzeigen" type="text/html">
		<table>
			<tr>
			 <td>Id:</td>
             <td><span data-bind="id" /></tr>
			</tr>
			<tr>
			 <td>Vorname:</td>
             <td><span data-bind="vorname" /></tr>
			</tr>
			<tr>
			  <td>Nachname:</td>
              <td><span data-bind="nachname" /></td>
			</tr>
            <tr>
			  <td colspan="2"><a id="back" href="javascript:">Zurück</a></td>
			</tr>
		</table>
	</script>
	<script type="text/javascript">
	var userEdit;
	
	var userAnzeigen = $$({
		model : {},
		view : {
			// Was muss hier hin?
		},
		controller : {
			// Was muss hier hin? Vervollständigen Sie hier den Code, so dass die Seite krrekt funktioniert!
		}
	});
	
	userEdit = $$({
			model : { id : '', vorname : 'Peter', nachname : 'Lustig' },
			view : {
				format : $("#userEdit").html()
			},
			controller : {
				'create' : function() {
					// Add JQueryUI widgets
					this.view.$( "input[type=button], a, button" )
						.button()
						.click(function( event ) {
							event.preventDefault();
						});
				},
				'click #save' : function() {
					var _this = this;
					var anzeige = $$(userAnzeigen,{ id : _this.model.get('id'), vorname : _this.model.get('vorname') ,
						nachname : _this.model.get('nachname') });
					this.destroy();
					$$.document.append(anzeige,'#contentArea');					
				}
			}
		});

		$$.document.append(userEdit,'#contentArea');
	</script>
</body>
</html>